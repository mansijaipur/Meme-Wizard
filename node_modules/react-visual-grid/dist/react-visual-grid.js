"use strict";var e=require("react/jsx-runtime"),t=require("classnames"),o=require("nanoid"),r=require("react"),n=require("use-debounce"),i=require("react-dom");const l=e=>"string"==typeof e&&e.includes("%"),s=e=>Number(e.replace("%","")),c={"1X":{height:100,width:120},"2X":{height:180,width:200},"3X":{height:280,width:320}},a={backgroundColor:"#000",controlBgColor:"#303030",controlBtnColor:"#595959",controlsBackDropColor:"rgba(0, 0, 0, 0.95)",primaryColor:"#007fff",thumbnailBgColor:"#202020"},d={backgroundColor:"#fff",controlBgColor:"#cdcdcd",controlBtnColor:"#595959",controlsBackDropColor:"rgba(255, 255, 255, 0.95)",primaryColor:"#007fff",thumbnailBgColor:"#eee"};const u=({mode:e,imageSizes:t=c,gridDimensions:o={columns:4},width:i=0,height:l=0,gridLayout:s,gap:u=10,totalImages:h=0,theme:g,dragRef:m})=>{const[p,f]=r.useState(0),[v,x]=r.useState(0),[w,_]=r.useState("2X"),b=r.useRef(null),[j,k]=r.useState(!1),[y,C]=r.useState({height:l,width:i}),[M,L]=r.useState({height:l,width:i}),[R,T]=r.useState({height:t[w].height,width:t[w].width}),[S,B]=r.useState(!1),[z,E]=r.useState(null),[N,$]=r.useState(g);!function(e,t){r.useEffect((()=>{if(t&&e){const{backgroundColor:o,thumbnailBgColor:r,controlBgColor:n,controlBtnColor:i,controlsBackDropColor:l,primaryColor:s}=t,c={"--rcvg-bg-color":o,"--rcvg-control-btn-color":i,"--rcvg-controls-backdrop-color":l,"--rcvg-controls-bg-color":n,"--rcvg-primary-color":s,"--rcvg-thumbnail-bg-color":r};e.style.cssText+=Object.keys(c).map((e=>`${e}: ${c[e]};`)).join("")}}),[t,e])}(b.current,N),function({target:e,onResizeEnded:t,onResizeStarted:o,minWidth:n=300,minHeight:i=300,dragRef:l}){const s=r.useRef(!1),c=r.useRef(null),a=r.useRef(),d=r.useRef({height:0,width:0}),u=r.useRef(!1),h=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),s.current=!0}),[]),g=r.useCallback((e=>{e.preventDefault(),s.current=!1,u.current&&(null==t||t(d.current),u.current=!1)}),[]);r.useEffect((()=>{e&&(c.current=e,a.current=e.getBoundingClientRect(),document.addEventListener("pointerup",g))}),[e]),r.useEffect((()=>{l&&l.addEventListener("pointerdown",h)}),[l]);const m=r.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{clientX:t,clientY:r}=e;if(s.current&&a.current){const{right:e,bottom:l,width:s,height:h,left:g,top:m}=a.current,p=s-(e-t),f=h-(l-r);if(u.current||(null==o||o(),u.current=!0),c.current&&p>n&&f>i){const e=c.current;e.style.width=`${p}px`,e.style.height=`${f}px`,e.style.cssText+=`\n          --rc-gallery-left: ${g}px;\n          --rc-gallery-top: ${m}px;`,d.current={height:f,width:p}}}}),[]);r.useEffect((()=>(window.addEventListener("pointermove",m),()=>{if(window.removeEventListener("pointermove",m),c.current){const e=c.current;e.removeEventListener("pointerdown",h),e.removeEventListener("pointerup",g)}l&&l.removeEventListener("pointerdown",h)})),[])}({dragRef:m,onResizeEnded:e=>{E(!1);const{height:t,width:o}=e;k(!1),t&&o&&(L({height:t,width:o}),C({height:t,width:o}))},onResizeStarted:()=>{E(!0),k(!0),I({regionBottom:-1,regionTop:-1})},target:b.current});const{scrollPositions:W,region:D={regionBottom:0,regionTop:0},setRegion:I,isScrolled:H,startReached:P,endReached:A,scrollPercent:O,scrollToTop:G,scrollToBottom:X}=function({ref:e,imageDimensions:t,gridLayout:o,resizeStarted:i,fullScreen:l,zoomLevel:s}){const[c,a]=r.useState({scrollLeft:0,scrollTop:0}),[d,u]=r.useState({regionBottom:0,regionTop:0}),[h,g]=r.useState(!1),m=r.useRef(),[p,f]=r.useState(!1),[v,x]=r.useState(!0),[w,_]=r.useState(0),b=r.useCallback((e=>{const t=e.target,{scrollLeft:o,scrollTop:r}=t;m.current&&clearInterval(m.current),m.current=window.setInterval((()=>{t.scrollLeft===o&&t.scrollTop===r&&(g(!1),clearInterval(m.current))}),500),g(!0)}),[]),j=r.useCallback((()=>{e.current&&e.current.scrollTo(0,0)}),[]),k=r.useCallback((()=>{const t=e.current;if(t){const{scrollHeight:e,scrollWidth:r}=t,n="horizontal"===o?r:0;t.scrollTo(n,e)}}),[o]),y=n.useDebouncedCallback((e=>{const r=e.target,{height:n,width:l}=t,{scrollLeft:s,scrollTop:c,clientHeight:d,clientWidth:h,scrollHeight:g,scrollWidth:m}=r;if(a({scrollLeft:s,scrollTop:c}),i)return;f&&f(!1),"vertical"===o?(_((c+d)/g),c+d>=g&&(f(!0),x(!1)),x(0===c)):"horizontal"===o&&(_((s+h)/m),s+h>h&&(f(!0),x(!1)),x(0===s));const p="vertical"===o?c/n:s/l,v="vertical"===o?(c+d)/n:(s+h)/l;u({regionBottom:Math.ceil(v),regionTop:Math.floor(p)})}),50);return r.useEffect((()=>(e.current&&(e.current.addEventListener("scroll",y),e.current.addEventListener("scroll",b)),()=>{e.current&&(e.current.removeEventListener("scroll",y),e.current.removeEventListener("scroll",b))})),[e]),r.useEffect((()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo(0,0),_(0)}),[i]),r.useEffect((()=>{setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo(0,0),a({scrollLeft:0,scrollTop:0}),_(0)}),100)}),[l,s]),{endReached:p,isScrolled:h,region:d,scrollPercent:w,scrollPositions:c,scrollToBottom:k,scrollToTop:j,setRegion:u,startReached:v}}({fullScreen:S,gridLayout:s,imageDimensions:R,ref:b,resizeStarted:j,zoomLevel:w}),{wrapperStyle:q,galleryStyle:U}=function({rootDimensions:e,imageDimensions:t,gridLayout:o,region:n,columns:i,rows:l,gap:s,mode:c,isFullScreen:a,isResized:d}){const u=r.useMemo((()=>{const{width:e,height:r}=t,n=e-s;return"auto"===c?"vertical"===o?{gridTemplateColumns:`repeat(${i}, ${n-1*s}px)`}:{gridAutoFlow:"column",gridTemplateColumns:`repeat(${i}, ${n}px)`,gridTemplateRows:`repeat(${l}, ${r-s}px)`}:{gridTemplateColumns:`repeat(${i}, ${n}px)`}}),[c,i,t.width,l,t.height]),h=r.useMemo((()=>{let e={};const{height:r,width:i}=t,{regionTop:l}=n;return e="vertical"===o?{gridAutoRows:r-s+"px",top:Math.max(l*r,20)+"px"}:{gridAutoColumns:i-s+"px",left:Math.max(l*i,20)+"px"},{...u,...e,gap:`${s}px`}}),[i,u,n.regionTop,o,t.width,t.height]),g=r.useMemo((()=>{let t={};const{width:r,height:n}=e;return"auto"===c&&(t={height:`${n}px`,width:`${r}px`}),a&&(t={...t,left:0,position:"fixed",top:0}),t=d?{...t,left:0,position:"absolute",top:0}:{...t},{...t,["overflow"+("vertical"===o?"Y":"X")]:"auto"}}),[e.width,e.height,o,c,a,d]);return{galleryStyle:h,wrapperStyle:g}}({columns:p,gap:u,gridLayout:s,imageDimensions:R,isFullScreen:S,isResized:j,mode:e,region:D,rootDimensions:M,rows:v}),F=()=>{const t=b.current,{width:o,height:r}=R,{width:n,height:i}=M;if(t&&"auto"===e&&n&&i){const e=Math.floor(n/o),t=Math.floor((i-120)/r);"vertical"===s?(f(e),x(Math.round(h/e)),I((e=>({...e,regionBottom:Math.round(i/r)})))):"horizontal"===s&&(x(t),f(Math.round(n/o)),I((e=>({...e,regionBottom:Math.round(n/o)}))))}};r.useEffect((()=>{const{width:e,height:t}=M;e&&t&&(E(!0),setTimeout((()=>{F(),E(!1)}),250))}),[M.width,M.height,R.width,R.height]);const Z=r.useCallback((e=>{b.current=e,F()}),[]),Y=r.useCallback((()=>{b.current&&(b.current.scrollTo(0,0),I({regionBottom:-1,regionTop:-1}))}),[]),V=r.useCallback((()=>{"#000"===(null==N?void 0:N.backgroundColor)?$(d):$(a)}),[null==N?void 0:N.backgroundColor]);r.useEffect((()=>{b.current&&Y()}),[w]);r.useEffect((()=>{if(b.current){const{height:e,width:o}=R;if("vertical"===s){const o=v*e,r=Math.max(...Object.keys(t).map((e=>t[e].height)));C({height:o+r})}else{const e=Math.round(h/v)*o;C({width:e})}}}),[v,p,R.width,R.height]);const J=r.useMemo((()=>"#000"===(null==N?void 0:N.backgroundColor)),[null==N?void 0:N.backgroundColor]);return{activeZoomLevel:w,columns:p,containerDimensions:y,endReached:A,fullScreen:()=>{if(Y(),b.current)if(S)B(!1),L({height:l,width:i}),C({height:l,width:i}),document.body.style.overflow="auto";else{const{innerHeight:e,innerWidth:t}=window;B(!0),L({height:e,width:t}),C({height:e,width:t}),document.body.style.overflow="hidden"}},hideImages:z,isDark:J,isFullScreen:S,isResized:j,isScrolled:H,onRef:Z,resizeImages:e=>{if(e!==w){const{width:o,height:r}=t[e];E(!0),_(e),T({height:r,width:o})}},rootDimensions:M,rows:v,scrollPercent:O,scrollPositions:W,scrollToBottom:X,scrollToTop:G,startReached:P,style:U,toggleTheme:V,windowRegion:D,wrapperStyle:q}},h={display:{height:0,width:0},enableResize:!0,gap:20,gridDimensions:{columns:3},gridLayout:"vertical",height:600,imageSizes:c,images:[],mode:"auto",showProgressBar:!0,theme:a,width:1200},g=r.createContext(h),m=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4M12 17h.01"})}),p=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"m7 13 5 5 5-5M7 6l5 5 5-5"})}),f=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),v=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"m9 18 6-6-6-6"})}),x=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"m17 11-5-5-5 5M17 18l-5-5-5 5"})}),w=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18 6 6 18M6 6l12 12"})}),_=()=>e.jsx("svg",{className:"feather feather-minimize",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),b=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),j=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})}),k=()=>e.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),y=()=>e.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:12,cy:12,r:5}),e.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]});var C="progress-bar-module_container__KLBiq",M="progress-bar-module_progress_bar__CSAlN";const L=({percent:t,top:o=0,containerWidth:n=0,left:i=0})=>{const l=r.useRef(null),s=r.useCallback((e=>{e&&(l.current=e)}),[]),c=r.useMemo((()=>{const e=l.current;if(e){const o=n||e.clientWidth;return{"--rc-images-width":`${Math.round(o*t)}px`,left:`${i}px`,width:`${o}px`}}}),[t,l.current,i]);return e.jsx("div",{className:C,ref:s,style:c,children:e.jsx("span",{className:M})})};var R={control_button:"controls-module_control_button__tYlmB",controls:"controls-module_controls__6Iaok",hide:"controls-module_hide__7r5Tj",control:"controls-module_control__OT-ZG",active:"controls-module_active__L7-YG",rounded:"controls-module_rounded__1qjCQ",controls_wrapper:"controls-module_controls_wrapper__qSfUz",button_disabled:"controls-module_button_disabled__W-ZaT",resize_btn:"controls-module_resize_btn__Bac1c"};const T=({onAction:o,endReached:n,startReached:i,label:l,type:s,children:c,actionType:a,active:d})=>{const u=r.useMemo((()=>t(R.control_button,R.rounded)),[]),h=r.useMemo((()=>t("control"===s?u:"",R.nav_button,n&&"GO_DOWN"===a?R.button_disabled:"",i&&"GO_UP"===a?R.button_disabled:"",d?R.active:"")),[n,i,d]);return e.jsx("button",{"aria-label":l,className:h,onClick:()=>o(a),title:l,children:c})},S=r.forwardRef((({onAction:o,activeZoom:n,isScrolled:i,hide:l,scrollPositions:s,rootHeight:c=0,rootWidth:a=0,containerWidth:d,containerHeight:u,isFullScreen:h,scrollPercent:m,endReached:f,startReached:v,isDark:w},C)=>{const{gridLayout:M,showProgressBar:S,enableResize:B}=r.useContext(g),z=r.useRef(null),E=r.useMemo((()=>t(R.controls_wrapper,l?R.hide:"")),[l]),N=r.useCallback((e=>{e&&(z.current=e)}),[]),$=r.useRef(null);r.useImperativeHandle(C,(()=>$.current));const W=r.useMemo((()=>{if(z.current){const{scrollLeft:e,scrollTop:t}=s,o=z.current,{clientHeight:r,clientWidth:n}=o;let i={["vertical"===M?"top":"left"]:"horizontal"===M?(e+a)/2-n/2+"px":t+c-r+"px"};return e?i={left:e+a/2-n/2+"px"}:t&&(i={top:t+c-r+"px"}),i}return{}}),[null==s?void 0:s.scrollTop,null==s?void 0:s.scrollLeft,c,a,z.current]),D=r.useMemo((()=>"horizontal"===M?{width:d}:W),[M,d,W]),I=r.useMemo((()=>"horizontal"===M?W:{}),[M,W]);return e.jsxs("div",{className:E,ref:"vertical"===M?N:null,style:D,children:[e.jsxs("ul",{className:t(R.controls,l?R.hide:""),ref:"horizontal"===M?N:null,style:I,children:[e.jsx("li",{className:R.control,children:e.jsx(T,{actionType:"GO_UP",label:"Go Up",onAction:()=>o("GO_UP"),startReached:v,type:"control",children:e.jsx(x,{})})}),["1X","2X","3X"].map(((t,r)=>e.jsx("li",{className:R.control,children:e.jsx(T,{actionType:t,active:n===t,label:t,onAction:o,type:"control",children:t})},r))),e.jsx("li",{className:R.control,children:e.jsx(T,{actionType:"GO_DOWN",endReached:f,label:"Go Down",onAction:o,type:"control",children:e.jsx(p,{})})}),e.jsx("li",{className:t(R.control,R.nav_button),children:e.jsx(T,{actionType:"FULL_SCREEN",label:h?"Minimize":"Maximize",onAction:o,type:"control",children:h?e.jsx(_,{}):e.jsx(b,{})})}),e.jsx("li",{className:t(R.control,R.nav_button),children:e.jsx(T,{actionType:"TOGGLE_THEME",label:w?"white":"dark",onAction:o,type:"control",children:w?e.jsx(y,{}):e.jsx(k,{})})})]}),S?e.jsx(L,{containerWidth:a,left:s.scrollLeft,percent:m||0,top:s.scrollTop}):null,B&&!h?e.jsx("span",{"aria-label":"resize",className:R.resize_btn,ref:$,role:"button",children:e.jsx(j,{})}):null]})}));S.displayName="Controls";var B="image-module_image__y02P7",z="image-module_wrapper__VIg-d",E="image-module_visible__RuTCZ",N="image-module_hidden__UwN8S",$="image-module_icon__-6IV2";const W=r.memo((({src:o,alt:n,width:i=100,height:l=100,onClick:s,index:c,id:a})=>{const[d,u]=r.useState(!1),[h,g]=r.useState(!1),p=r.useMemo((()=>t(B,d?E:N)),[d]),f=r.useCallback(((e,t)=>{if(h)return;const{x:o,y:r}=e.target.getBoundingClientRect();e instanceof KeyboardEvent?"Enter"===e.key&&(null==s||s(t,a,{x:o,y:r})):null==s||s(t,a,{x:o,y:r})}),[h]);return e.jsxs("div",{className:z,onClick:e=>f(e,o),onKeyUp:e=>f(e,o),role:"button",style:{height:l,width:i},tabIndex:0,children:[h&&e.jsx("span",{className:$,children:e.jsx(m,{})}),!h&&e.jsx("img",{alt:n,className:p,onError:()=>g(!0),onLoad:()=>u(!0),src:o})]})}),((e,t)=>e.index===t.index));W.displayName="Image";var D="screen-module_screen__DxQmm",I="screen-module_hide__Fqgfs",H="screen-module_show__KaYDu";const P=({show:o=!1,width:n=0,height:i=0})=>{const l=r.useMemo((()=>t(D,null!==o?o?H:I:"")),[o]),s=r.useMemo((()=>({height:`${i}px`,width:`${n}px`})),[n,i]);return e.jsx("div",{className:l,style:s})};var A="viewer-module_container__y9rG5",O="viewer-module_viewer__q8To-",G="viewer-module_close_btn__KxhRJ",X="viewer-module_nav_button__GMUZY",q="viewer-module_image__c6JfO",U="viewer-module_show__Q-yAU",F="viewer-module_hide__PrOWJ";const Z=r.memo((({url:o,dimensions:{height:n,width:i},rect:{x:l,y:s},onClose:c,top:a=0,left:d=0,onNext:u,onPrevious:h,activeImageIndex:g,totalImages:m})=>{const p=r.useMemo((()=>({height:`${n}px`,left:`${d}px`,top:`${a}px`,width:`${i}px`})),[n,i,l,s]),x=r.useRef(!0),[_,b]=r.useState(!1);r.useEffect((()=>{x.current=!1,setTimeout((()=>{b(!0)}),100)}),[]);const j=r.useMemo((()=>t(q,x.current?"":_?U:F)),[_]),{onRef:k}=function({escCB:e,leftCB:t,rightCB:o}){const n=r.useRef(null),i=r.useCallback((r=>{const{key:n}=r;"Escape"===n?null==e||e():"ArrowRight"===n?null==o||o():"ArrowLeft"===n&&(null==t||t())}),[]),l=r.useCallback((e=>{e&&(n.current=e,e.focus(),e.addEventListener("keyup",i))}),[]);return r.useEffect((()=>()=>{n.current&&n.current.removeEventListener("keyup",i)}),[]),{onRef:l}}({escCB:c,leftCB:h,rightCB:u});return e.jsxs("div",{className:A,ref:k,role:"dialog",style:p,tabIndex:0,children:[e.jsx("button",{"aria-label":"close",className:G,onClick:c,children:e.jsx(w,{})}),e.jsxs("div",{className:O,children:[e.jsx("button",{className:t(X,1===g?F:""),onClick:h,children:e.jsx(f,{})}),e.jsx("img",{alt:"",className:j,src:o}),e.jsx("button",{className:t(X,g===m-1?F:""),onClick:u,children:e.jsx(v,{})})]})]})}),((e,t)=>e.url===t.url&&e.dimensions.height===t.dimensions.height&&e.dimensions.width===t.dimensions.width&&e.top===t.top&&e.left===t.left));Z.displayName="Viewer";const Y=t=>t.show&&t.node?i.createPortal(e.jsx(e.Fragment,{children:e.jsx(Z,{...t,onClose:t.onClose})}),t.node):null;var V={gallery_item:"grid-module_gallery_item__dR1vN",wrapper:"grid-module_wrapper__wXYr9",horizontal:"grid-module_horizontal__XJwyW",vertical:"grid-module_vertical__Dk7Cw",resized:"grid-module_resized__BM2MT",gallery:"grid-module_gallery__x2b9j",hide:"grid-module_hide__ZhIvX",container:"grid-module_container__qJ1mC"};var J={unveil:"effects-module_unveil__W00v5",veil_horizontal:"effects-module_veil_horizontal__2SxOg",veil_vertical:"effects-module_veil_vertical__0H4M0"};var K="masonry-module_container__L1nYg",Q="masonry-module_no_gutter__GyeQG";exports.Grid=n=>{const i=Object.assign({},h,n),d=r.useRef(null),{images:m=[],width:p=1200,height:f=600,gridLayout:v="vertical",gridDimensions:x={columns:3},gap:w=20,mode:_="auto",imageSizes:b=c,theme:j,enableResize:k,enableDarkMode:y=!1}=i,C=r.useRef(m.map((e=>({...e,id:o.nanoid()})))),[M]=r.useState((()=>{if(l(p)&&l(f)){const{innerHeight:e,innerWidth:t}=window,o=s(p),r=s(f);return{height:Math.round(e*(r/100)),width:Math.round(t*(o/100))}}return{height:+f,width:+p}})),{activeZoomLevel:L,columns:R,containerDimensions:{height:T,width:B},fullScreen:z,hideImages:E,onRef:N,resizeImages:$,rows:D,style:I,windowRegion:{regionTop:H,regionBottom:A},wrapperStyle:O,scrollPositions:G,isScrolled:X,isFullScreen:q,scrollPercent:U,scrollToTop:F,scrollToBottom:Z,endReached:J,startReached:K,rootDimensions:{height:Q,width:ee},isResized:te,toggleTheme:oe,isDark:re}=u({dragRef:d.current,enableResize:k,gap:w,gridDimensions:x,gridLayout:v,height:M.height,imageSizes:b,mode:_,theme:y?a:j,totalImages:m.length,width:M.width}),ne=r.useMemo((()=>"vertical"===v?C.current.filter(((e,t)=>Math.floor(t/R)>=H&&Math.floor(t/R)<=A)):C.current.filter(((e,t)=>t>=H*D&&t<=D*A-1))),[H,A,D,R]),ie=r.useRef(null),[le,se]=r.useState(""),[ce,ae]=r.useState(!1),[de,ue]=r.useState({x:0,y:0}),[he,ge]=r.useState(-1),me=r.useCallback((e=>{e&&(ie.current=e)}),[]),pe=r.useMemo((()=>t(V.gallery,V[v])),[v,E,te]),fe=r.useMemo((()=>t("vertical"===v?V.vertical:V.horizontal,V.wrapper,te?V.resized:"")),[v,te]),ve=r.useMemo((()=>({height:b[L].height-w,width:b[L].width-w})),[L]),xe=r.useMemo((()=>({rootHeight:Q,rootWidth:ee})),[q,Q,ee]),we=r.useMemo((()=>({height:`${T}px`,width:`${B}px`})),[B,T]),_e=(e,t,o)=>{const r=C.current.findIndex((e=>e.id===t));ae(!0),ge(r||0),o&&ue(o)},be=r.useCallback((()=>{he>0&&ge((e=>e-1))}),[he]),je=r.useCallback((()=>{he<m.length-1&&ge((e=>e+1))}),[he]);r.useEffect((()=>{he>-1&&se(m[he].src)}),[he]);const ke=r.useMemo((()=>Object.assign({},O,ce?{overflow:"hidden"}:{})),[ce,O]),ye=r.useMemo((()=>e.jsx("ul",{className:pe,style:I,children:ne.map(((t,o)=>e.jsx("li",{className:V.gallery_item,children:e.jsx(W,{alt:t.alt,height:ve.height,id:t.id,index:o,onClick:_e,src:t.src,width:ve.width})},t.id)))})),[ne.length,H,A]);return e.jsx(g.Provider,{value:i,children:e.jsx("div",{style:{height:xe.rootHeight,position:"relative",width:xe.rootWidth},children:e.jsxs("div",{className:fe,ref:N,style:ke,children:[e.jsxs("div",{className:V.container,ref:me,style:we,children:[e.jsx(P,{height:xe.rootHeight,show:E||te,width:xe.rootWidth}),ye]}),e.jsx(S,{activeZoom:L,containerHeight:T,containerWidth:B,endReached:J,hide:X||te,isDark:re,isFullScreen:q,isScrolled:X,onAction:e=>{"FULL_SCREEN"===e?z():"1X"===e||"2X"===e||"3X"===e?$(e):"GO_UP"===e?F():"GO_DOWN"===e?Z():"TOGGLE_THEME"===e&&oe()},ref:d,rootHeight:xe.rootHeight,rootWidth:xe.rootWidth,scrollPercent:U,scrollPositions:G,startReached:K}),le?e.jsx(Y,{activeImageIndex:he,dimensions:{height:xe.rootHeight,width:xe.rootWidth},left:G.scrollLeft,node:ie.current,onClose:()=>{ae(!1),se("")},onNext:je,onPrevious:be,rect:de,show:ce,top:G.scrollTop,totalImages:m.length,url:le}):null]})})})},exports.Masonry=({children:o,height:n=800,width:i=1200,fillMode:l,gutter:s=4,enableAnimation:c=!0})=>{const a=r.useRef(null);!function({target:e,fillMode:t="HORIZONTAL",gutter:o=2,enableAnimation:n=!0,animationDelay:i=200}){r.useEffect((()=>{if(e&&e.current){const r=e.current,{clientWidth:l,clientHeight:s}=r,c=Array.from(r.children),a=l,d=s;let u=0,h=0,g=0,m=0,p=0,f=0;c.forEach((e=>{const r=Array.from(e.classList).filter((e=>e.includes("rc-"))),l=e.firstChild,s=J[`veil_${t.toLowerCase()}`];if(n&&(l.classList.add(s),l.addEventListener("load",(()=>{setTimeout((()=>{l.classList.remove(s),l.classList.add(J.unveil)}),i)}))),r){const[n,i]=[r.find((e=>e.includes("-w"))),r.find((e=>e.includes("-h")))].map((e=>Number(null==e?void 0:e.replace(/(rc-w-|rc-h-)/,"")))),l=n-o,s=i-o;if(!l||!s)return;let c="";"HORIZONTAL"===t?(u+l<=a?(c=`;left: ${g}px; top: ${m}px;`,u+=l+o,g=u+o):(m+=p+o,c=`;left: 0px; top: ${m}px;`,g=l+o,u=l,p=0),p=Math.max(p,s)):"VERTICAL"===t&&(h+s<=d?(c=`;top: ${m}px; left: ${g}px;`,h+=s+o,m=h+o):(g+=f+o,c=`;left: ${g}px; top: 0px;`,m=s+o,h=s,f=0),f=Math.max(f,l)),c+=`\n            width: ${l}px;\n            height: ${s}px;\n            visibility: visible;\n          `,e.style.cssText=c,c=""}}))}}),[null==e?void 0:e.current])}({enableAnimation:c,fillMode:l,gutter:s,target:a});const d=r.useMemo((()=>({height:`${n}px`,width:`${i}px`})),[n,i]),u=t(K,s?"":Q,[]);return e.jsx("div",{className:u,ref:a,style:d,children:o})};
