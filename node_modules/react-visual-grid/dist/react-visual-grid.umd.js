!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react/jsx-runtime"),require("classnames"),require("nanoid"),require("react"),require("use-debounce"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","classnames","nanoid","react","use-debounce","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactVisualGrid={},e.jsxRuntime,e.cx,e.nanoid,e.React,e.useDebounce,e.ReactDOM)}(this,(function(e,t,o,r,n,i,l){"use strict";const s=e=>"string"==typeof e&&e.includes("%"),c=e=>Number(e.replace("%","")),a={"1X":{height:100,width:120},"2X":{height:180,width:200},"3X":{height:280,width:320}},d={backgroundColor:"#000",controlBgColor:"#303030",controlBtnColor:"#595959",controlsBackDropColor:"rgba(0, 0, 0, 0.95)",primaryColor:"#007fff",thumbnailBgColor:"#202020"},u={backgroundColor:"#fff",controlBgColor:"#cdcdcd",controlBtnColor:"#595959",controlsBackDropColor:"rgba(255, 255, 255, 0.95)",primaryColor:"#007fff",thumbnailBgColor:"#eee"};const h=({mode:e,imageSizes:t=a,gridDimensions:o={columns:4},width:r=0,height:l=0,gridLayout:s,gap:c=10,totalImages:h=0,theme:m,dragRef:g})=>{const[p,f]=n.useState(0),[v,x]=n.useState(0),[w,_]=n.useState("2X"),b=n.useRef(null),[y,j]=n.useState(!1),[k,C]=n.useState({height:l,width:r}),[M,L]=n.useState({height:l,width:r}),[R,T]=n.useState({height:t[w].height,width:t[w].width}),[S,B]=n.useState(!1),[z,E]=n.useState(null),[N,$]=n.useState(m);!function(e,t){n.useEffect((()=>{if(t&&e){const{backgroundColor:o,thumbnailBgColor:r,controlBgColor:n,controlBtnColor:i,controlsBackDropColor:l,primaryColor:s}=t,c={"--rcvg-bg-color":o,"--rcvg-control-btn-color":i,"--rcvg-controls-backdrop-color":l,"--rcvg-controls-bg-color":n,"--rcvg-primary-color":s,"--rcvg-thumbnail-bg-color":r};e.style.cssText+=Object.keys(c).map((e=>`${e}: ${c[e]};`)).join("")}}),[t,e])}(b.current,N),function({target:e,onResizeEnded:t,onResizeStarted:o,minWidth:r=300,minHeight:i=300,dragRef:l}){const s=n.useRef(!1),c=n.useRef(null),a=n.useRef(),d=n.useRef({height:0,width:0}),u=n.useRef(!1),h=n.useCallback((e=>{e.preventDefault(),e.stopPropagation(),s.current=!0}),[]),m=n.useCallback((e=>{e.preventDefault(),s.current=!1,u.current&&(null==t||t(d.current),u.current=!1)}),[]);n.useEffect((()=>{e&&(c.current=e,a.current=e.getBoundingClientRect(),document.addEventListener("pointerup",m))}),[e]),n.useEffect((()=>{l&&l.addEventListener("pointerdown",h)}),[l]);const g=n.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{clientX:t,clientY:n}=e;if(s.current&&a.current){const{right:e,bottom:l,width:s,height:h,left:m,top:g}=a.current,p=s-(e-t),f=h-(l-n);if(u.current||(null==o||o(),u.current=!0),c.current&&p>r&&f>i){const e=c.current;e.style.width=`${p}px`,e.style.height=`${f}px`,e.style.cssText+=`\n          --rc-gallery-left: ${m}px;\n          --rc-gallery-top: ${g}px;`,d.current={height:f,width:p}}}}),[]);n.useEffect((()=>(window.addEventListener("pointermove",g),()=>{if(window.removeEventListener("pointermove",g),c.current){const e=c.current;e.removeEventListener("pointerdown",h),e.removeEventListener("pointerup",m)}l&&l.removeEventListener("pointerdown",h)})),[])}({dragRef:g,onResizeEnded:e=>{E(!1);const{height:t,width:o}=e;j(!1),t&&o&&(L({height:t,width:o}),C({height:t,width:o}))},onResizeStarted:()=>{E(!0),j(!0),I({regionBottom:-1,regionTop:-1})},target:b.current});const{scrollPositions:W,region:D={regionBottom:0,regionTop:0},setRegion:I,isScrolled:H,startReached:P,endReached:O,scrollPercent:A,scrollToTop:G,scrollToBottom:X}=function({ref:e,imageDimensions:t,gridLayout:o,resizeStarted:r,fullScreen:l,zoomLevel:s}){const[c,a]=n.useState({scrollLeft:0,scrollTop:0}),[d,u]=n.useState({regionBottom:0,regionTop:0}),[h,m]=n.useState(!1),g=n.useRef(),[p,f]=n.useState(!1),[v,x]=n.useState(!0),[w,_]=n.useState(0),b=n.useCallback((e=>{const t=e.target,{scrollLeft:o,scrollTop:r}=t;g.current&&clearInterval(g.current),g.current=window.setInterval((()=>{t.scrollLeft===o&&t.scrollTop===r&&(m(!1),clearInterval(g.current))}),500),m(!0)}),[]),y=n.useCallback((()=>{e.current&&e.current.scrollTo(0,0)}),[]),j=n.useCallback((()=>{const t=e.current;if(t){const{scrollHeight:e,scrollWidth:r}=t,n="horizontal"===o?r:0;t.scrollTo(n,e)}}),[o]),k=i.useDebouncedCallback((e=>{const n=e.target,{height:i,width:l}=t,{scrollLeft:s,scrollTop:c,clientHeight:d,clientWidth:h,scrollHeight:m,scrollWidth:g}=n;if(a({scrollLeft:s,scrollTop:c}),r)return;f&&f(!1),"vertical"===o?(_((c+d)/m),c+d>=m&&(f(!0),x(!1)),x(0===c)):"horizontal"===o&&(_((s+h)/g),s+h>h&&(f(!0),x(!1)),x(0===s));const p="vertical"===o?c/i:s/l,v="vertical"===o?(c+d)/i:(s+h)/l;u({regionBottom:Math.ceil(v),regionTop:Math.floor(p)})}),50);return n.useEffect((()=>(e.current&&(e.current.addEventListener("scroll",k),e.current.addEventListener("scroll",b)),()=>{e.current&&(e.current.removeEventListener("scroll",k),e.current.removeEventListener("scroll",b))})),[e]),n.useEffect((()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo(0,0),_(0)}),[r]),n.useEffect((()=>{setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.scrollTo(0,0),a({scrollLeft:0,scrollTop:0}),_(0)}),100)}),[l,s]),{endReached:p,isScrolled:h,region:d,scrollPercent:w,scrollPositions:c,scrollToBottom:j,scrollToTop:y,setRegion:u,startReached:v}}({fullScreen:S,gridLayout:s,imageDimensions:R,ref:b,resizeStarted:y,zoomLevel:w}),{wrapperStyle:q,galleryStyle:U}=function({rootDimensions:e,imageDimensions:t,gridLayout:o,region:r,columns:i,rows:l,gap:s,mode:c,isFullScreen:a,isResized:d}){const u=n.useMemo((()=>{const{width:e,height:r}=t,n=e-s;return"auto"===c?"vertical"===o?{gridTemplateColumns:`repeat(${i}, ${n-1*s}px)`}:{gridAutoFlow:"column",gridTemplateColumns:`repeat(${i}, ${n}px)`,gridTemplateRows:`repeat(${l}, ${r-s}px)`}:{gridTemplateColumns:`repeat(${i}, ${n}px)`}}),[c,i,t.width,l,t.height]),h=n.useMemo((()=>{let e={};const{height:n,width:i}=t,{regionTop:l}=r;return e="vertical"===o?{gridAutoRows:n-s+"px",top:Math.max(l*n,20)+"px"}:{gridAutoColumns:i-s+"px",left:Math.max(l*i,20)+"px"},{...u,...e,gap:`${s}px`}}),[i,u,r.regionTop,o,t.width,t.height]),m=n.useMemo((()=>{let t={};const{width:r,height:n}=e;return"auto"===c&&(t={height:`${n}px`,width:`${r}px`}),a&&(t={...t,left:0,position:"fixed",top:0}),t=d?{...t,left:0,position:"absolute",top:0}:{...t},{...t,["overflow"+("vertical"===o?"Y":"X")]:"auto"}}),[e.width,e.height,o,c,a,d]);return{galleryStyle:h,wrapperStyle:m}}({columns:p,gap:c,gridLayout:s,imageDimensions:R,isFullScreen:S,isResized:y,mode:e,region:D,rootDimensions:M,rows:v}),F=()=>{const t=b.current,{width:o,height:r}=R,{width:n,height:i}=M;if(t&&"auto"===e&&n&&i){const e=Math.floor(n/o),t=Math.floor((i-120)/r);"vertical"===s?(f(e),x(Math.round(h/e)),I((e=>({...e,regionBottom:Math.round(i/r)})))):"horizontal"===s&&(x(t),f(Math.round(n/o)),I((e=>({...e,regionBottom:Math.round(n/o)}))))}};n.useEffect((()=>{const{width:e,height:t}=M;e&&t&&(E(!0),setTimeout((()=>{F(),E(!1)}),250))}),[M.width,M.height,R.width,R.height]);const Z=n.useCallback((e=>{b.current=e,F()}),[]),Y=n.useCallback((()=>{b.current&&(b.current.scrollTo(0,0),I({regionBottom:-1,regionTop:-1}))}),[]),V=n.useCallback((()=>{"#000"===(null==N?void 0:N.backgroundColor)?$(u):$(d)}),[null==N?void 0:N.backgroundColor]);n.useEffect((()=>{b.current&&Y()}),[w]);n.useEffect((()=>{if(b.current){const{height:e,width:o}=R;if("vertical"===s){const o=v*e,r=Math.max(...Object.keys(t).map((e=>t[e].height)));C({height:o+r})}else{const e=Math.round(h/v)*o;C({width:e})}}}),[v,p,R.width,R.height]);const J=n.useMemo((()=>"#000"===(null==N?void 0:N.backgroundColor)),[null==N?void 0:N.backgroundColor]);return{activeZoomLevel:w,columns:p,containerDimensions:k,endReached:O,fullScreen:()=>{if(Y(),b.current)if(S)B(!1),L({height:l,width:r}),C({height:l,width:r}),document.body.style.overflow="auto";else{const{innerHeight:e,innerWidth:t}=window;B(!0),L({height:e,width:t}),C({height:e,width:t}),document.body.style.overflow="hidden"}},hideImages:z,isDark:J,isFullScreen:S,isResized:y,isScrolled:H,onRef:Z,resizeImages:e=>{if(e!==w){const{width:o,height:r}=t[e];E(!0),_(e),T({height:r,width:o})}},rootDimensions:M,rows:v,scrollPercent:A,scrollPositions:W,scrollToBottom:X,scrollToTop:G,startReached:P,style:U,toggleTheme:V,windowRegion:D,wrapperStyle:q}},m={display:{height:0,width:0},enableResize:!0,gap:20,gridDimensions:{columns:3},gridLayout:"vertical",height:600,imageSizes:a,images:[],mode:"auto",showProgressBar:!0,theme:d,width:1200},g=n.createContext(m),p=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4M12 17h.01"})}),f=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"m7 13 5 5 5-5M7 6l5 5 5-5"})}),v=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"m15 18-6-6 6-6"})}),x=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"m9 18 6-6-6-6"})}),w=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"m17 11-5-5-5 5M17 18l-5-5-5 5"})}),_=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M18 6 6 18M6 6l12 12"})}),b=()=>t.jsx("svg",{className:"feather feather-minimize",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),y=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),j=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",children:t.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})}),k=()=>t.jsx("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),C=()=>t.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{cx:12,cy:12,r:5}),t.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]});var M="progress-bar-module_container__KLBiq",L="progress-bar-module_progress_bar__CSAlN";const R=({percent:e,top:o=0,containerWidth:r=0,left:i=0})=>{const l=n.useRef(null),s=n.useCallback((e=>{e&&(l.current=e)}),[]),c=n.useMemo((()=>{const t=l.current;if(t){const o=r||t.clientWidth;return{"--rc-images-width":`${Math.round(o*e)}px`,left:`${i}px`,width:`${o}px`}}}),[e,l.current,i]);return t.jsx("div",{className:M,ref:s,style:c,children:t.jsx("span",{className:L})})};var T={control_button:"controls-module_control_button__tYlmB",controls:"controls-module_controls__6Iaok",hide:"controls-module_hide__7r5Tj",control:"controls-module_control__OT-ZG",active:"controls-module_active__L7-YG",rounded:"controls-module_rounded__1qjCQ",controls_wrapper:"controls-module_controls_wrapper__qSfUz",button_disabled:"controls-module_button_disabled__W-ZaT",resize_btn:"controls-module_resize_btn__Bac1c"};const S=({onAction:e,endReached:r,startReached:i,label:l,type:s,children:c,actionType:a,active:d})=>{const u=n.useMemo((()=>o(T.control_button,T.rounded)),[]),h=n.useMemo((()=>o("control"===s?u:"",T.nav_button,r&&"GO_DOWN"===a?T.button_disabled:"",i&&"GO_UP"===a?T.button_disabled:"",d?T.active:"")),[r,i,d]);return t.jsx("button",{"aria-label":l,className:h,onClick:()=>e(a),title:l,children:c})},B=n.forwardRef((({onAction:e,activeZoom:r,isScrolled:i,hide:l,scrollPositions:s,rootHeight:c=0,rootWidth:a=0,containerWidth:d,containerHeight:u,isFullScreen:h,scrollPercent:m,endReached:p,startReached:v,isDark:x},_)=>{const{gridLayout:M,showProgressBar:L,enableResize:B}=n.useContext(g),z=n.useRef(null),E=n.useMemo((()=>o(T.controls_wrapper,l?T.hide:"")),[l]),N=n.useCallback((e=>{e&&(z.current=e)}),[]),$=n.useRef(null);n.useImperativeHandle(_,(()=>$.current));const W=n.useMemo((()=>{if(z.current){const{scrollLeft:e,scrollTop:t}=s,o=z.current,{clientHeight:r,clientWidth:n}=o;let i={["vertical"===M?"top":"left"]:"horizontal"===M?(e+a)/2-n/2+"px":t+c-r+"px"};return e?i={left:e+a/2-n/2+"px"}:t&&(i={top:t+c-r+"px"}),i}return{}}),[null==s?void 0:s.scrollTop,null==s?void 0:s.scrollLeft,c,a,z.current]),D=n.useMemo((()=>"horizontal"===M?{width:d}:W),[M,d,W]),I=n.useMemo((()=>"horizontal"===M?W:{}),[M,W]);return t.jsxs("div",{className:E,ref:"vertical"===M?N:null,style:D,children:[t.jsxs("ul",{className:o(T.controls,l?T.hide:""),ref:"horizontal"===M?N:null,style:I,children:[t.jsx("li",{className:T.control,children:t.jsx(S,{actionType:"GO_UP",label:"Go Up",onAction:()=>e("GO_UP"),startReached:v,type:"control",children:t.jsx(w,{})})}),["1X","2X","3X"].map(((o,n)=>t.jsx("li",{className:T.control,children:t.jsx(S,{actionType:o,active:r===o,label:o,onAction:e,type:"control",children:o})},n))),t.jsx("li",{className:T.control,children:t.jsx(S,{actionType:"GO_DOWN",endReached:p,label:"Go Down",onAction:e,type:"control",children:t.jsx(f,{})})}),t.jsx("li",{className:o(T.control,T.nav_button),children:t.jsx(S,{actionType:"FULL_SCREEN",label:h?"Minimize":"Maximize",onAction:e,type:"control",children:h?t.jsx(b,{}):t.jsx(y,{})})}),t.jsx("li",{className:o(T.control,T.nav_button),children:t.jsx(S,{actionType:"TOGGLE_THEME",label:x?"white":"dark",onAction:e,type:"control",children:x?t.jsx(C,{}):t.jsx(k,{})})})]}),L?t.jsx(R,{containerWidth:a,left:s.scrollLeft,percent:m||0,top:s.scrollTop}):null,B&&!h?t.jsx("span",{"aria-label":"resize",className:T.resize_btn,ref:$,role:"button",children:t.jsx(j,{})}):null]})}));B.displayName="Controls";var z="image-module_image__y02P7",E="image-module_wrapper__VIg-d",N="image-module_visible__RuTCZ",$="image-module_hidden__UwN8S",W="image-module_icon__-6IV2";const D=n.memo((({src:e,alt:r,width:i=100,height:l=100,onClick:s,index:c,id:a})=>{const[d,u]=n.useState(!1),[h,m]=n.useState(!1),g=n.useMemo((()=>o(z,d?N:$)),[d]),f=n.useCallback(((e,t)=>{if(h)return;const{x:o,y:r}=e.target.getBoundingClientRect();e instanceof KeyboardEvent?"Enter"===e.key&&(null==s||s(t,a,{x:o,y:r})):null==s||s(t,a,{x:o,y:r})}),[h]);return t.jsxs("div",{className:E,onClick:t=>f(t,e),onKeyUp:t=>f(t,e),role:"button",style:{height:l,width:i},tabIndex:0,children:[h&&t.jsx("span",{className:W,children:t.jsx(p,{})}),!h&&t.jsx("img",{alt:r,className:g,onError:()=>m(!0),onLoad:()=>u(!0),src:e})]})}),((e,t)=>e.index===t.index));D.displayName="Image";var I="screen-module_screen__DxQmm",H="screen-module_hide__Fqgfs",P="screen-module_show__KaYDu";const O=({show:e=!1,width:r=0,height:i=0})=>{const l=n.useMemo((()=>o(I,null!==e?e?P:H:"")),[e]),s=n.useMemo((()=>({height:`${i}px`,width:`${r}px`})),[r,i]);return t.jsx("div",{className:l,style:s})};var A="viewer-module_container__y9rG5",G="viewer-module_viewer__q8To-",X="viewer-module_close_btn__KxhRJ",q="viewer-module_nav_button__GMUZY",U="viewer-module_image__c6JfO",F="viewer-module_show__Q-yAU",Z="viewer-module_hide__PrOWJ";const Y=n.memo((({url:e,dimensions:{height:r,width:i},rect:{x:l,y:s},onClose:c,top:a=0,left:d=0,onNext:u,onPrevious:h,activeImageIndex:m,totalImages:g})=>{const p=n.useMemo((()=>({height:`${r}px`,left:`${d}px`,top:`${a}px`,width:`${i}px`})),[r,i,l,s]),f=n.useRef(!0),[w,b]=n.useState(!1);n.useEffect((()=>{f.current=!1,setTimeout((()=>{b(!0)}),100)}),[]);const y=n.useMemo((()=>o(U,f.current?"":w?F:Z)),[w]),{onRef:j}=function({escCB:e,leftCB:t,rightCB:o}){const r=n.useRef(null),i=n.useCallback((r=>{const{key:n}=r;"Escape"===n?null==e||e():"ArrowRight"===n?null==o||o():"ArrowLeft"===n&&(null==t||t())}),[]),l=n.useCallback((e=>{e&&(r.current=e,e.focus(),e.addEventListener("keyup",i))}),[]);return n.useEffect((()=>()=>{r.current&&r.current.removeEventListener("keyup",i)}),[]),{onRef:l}}({escCB:c,leftCB:h,rightCB:u});return t.jsxs("div",{className:A,ref:j,role:"dialog",style:p,tabIndex:0,children:[t.jsx("button",{"aria-label":"close",className:X,onClick:c,children:t.jsx(_,{})}),t.jsxs("div",{className:G,children:[t.jsx("button",{className:o(q,1===m?Z:""),onClick:h,children:t.jsx(v,{})}),t.jsx("img",{alt:"",className:y,src:e}),t.jsx("button",{className:o(q,m===g-1?Z:""),onClick:u,children:t.jsx(x,{})})]})]})}),((e,t)=>e.url===t.url&&e.dimensions.height===t.dimensions.height&&e.dimensions.width===t.dimensions.width&&e.top===t.top&&e.left===t.left));Y.displayName="Viewer";const V=e=>e.show&&e.node?l.createPortal(t.jsx(t.Fragment,{children:t.jsx(Y,{...e,onClose:e.onClose})}),e.node):null;var J={gallery_item:"grid-module_gallery_item__dR1vN",wrapper:"grid-module_wrapper__wXYr9",horizontal:"grid-module_horizontal__XJwyW",vertical:"grid-module_vertical__Dk7Cw",resized:"grid-module_resized__BM2MT",gallery:"grid-module_gallery__x2b9j",hide:"grid-module_hide__ZhIvX",container:"grid-module_container__qJ1mC"};var K={unveil:"effects-module_unveil__W00v5",veil_horizontal:"effects-module_veil_horizontal__2SxOg",veil_vertical:"effects-module_veil_vertical__0H4M0"};var Q="masonry-module_container__L1nYg",ee="masonry-module_no_gutter__GyeQG";e.Grid=e=>{const i=Object.assign({},m,e),l=n.useRef(null),{images:u=[],width:p=1200,height:f=600,gridLayout:v="vertical",gridDimensions:x={columns:3},gap:w=20,mode:_="auto",imageSizes:b=a,theme:y,enableResize:j,enableDarkMode:k=!1}=i,C=n.useRef(u.map((e=>({...e,id:r.nanoid()})))),[M]=n.useState((()=>{if(s(p)&&s(f)){const{innerHeight:e,innerWidth:t}=window,o=c(p),r=c(f);return{height:Math.round(e*(r/100)),width:Math.round(t*(o/100))}}return{height:+f,width:+p}})),{activeZoomLevel:L,columns:R,containerDimensions:{height:T,width:S},fullScreen:z,hideImages:E,onRef:N,resizeImages:$,rows:W,style:I,windowRegion:{regionTop:H,regionBottom:P},wrapperStyle:A,scrollPositions:G,isScrolled:X,isFullScreen:q,scrollPercent:U,scrollToTop:F,scrollToBottom:Z,endReached:Y,startReached:K,rootDimensions:{height:Q,width:ee},isResized:te,toggleTheme:oe,isDark:re}=h({dragRef:l.current,enableResize:j,gap:w,gridDimensions:x,gridLayout:v,height:M.height,imageSizes:b,mode:_,theme:k?d:y,totalImages:u.length,width:M.width}),ne=n.useMemo((()=>"vertical"===v?C.current.filter(((e,t)=>Math.floor(t/R)>=H&&Math.floor(t/R)<=P)):C.current.filter(((e,t)=>t>=H*W&&t<=W*P-1))),[H,P,W,R]),ie=n.useRef(null),[le,se]=n.useState(""),[ce,ae]=n.useState(!1),[de,ue]=n.useState({x:0,y:0}),[he,me]=n.useState(-1),ge=n.useCallback((e=>{e&&(ie.current=e)}),[]),pe=n.useMemo((()=>o(J.gallery,J[v])),[v,E,te]),fe=n.useMemo((()=>o("vertical"===v?J.vertical:J.horizontal,J.wrapper,te?J.resized:"")),[v,te]),ve=n.useMemo((()=>({height:b[L].height-w,width:b[L].width-w})),[L]),xe=n.useMemo((()=>({rootHeight:Q,rootWidth:ee})),[q,Q,ee]),we=n.useMemo((()=>({height:`${T}px`,width:`${S}px`})),[S,T]),_e=(e,t,o)=>{const r=C.current.findIndex((e=>e.id===t));ae(!0),me(r||0),o&&ue(o)},be=n.useCallback((()=>{he>0&&me((e=>e-1))}),[he]),ye=n.useCallback((()=>{he<u.length-1&&me((e=>e+1))}),[he]);n.useEffect((()=>{he>-1&&se(u[he].src)}),[he]);const je=n.useMemo((()=>Object.assign({},A,ce?{overflow:"hidden"}:{})),[ce,A]),ke=n.useMemo((()=>t.jsx("ul",{className:pe,style:I,children:ne.map(((e,o)=>t.jsx("li",{className:J.gallery_item,children:t.jsx(D,{alt:e.alt,height:ve.height,id:e.id,index:o,onClick:_e,src:e.src,width:ve.width})},e.id)))})),[ne.length,H,P]);return t.jsx(g.Provider,{value:i,children:t.jsx("div",{style:{height:xe.rootHeight,position:"relative",width:xe.rootWidth},children:t.jsxs("div",{className:fe,ref:N,style:je,children:[t.jsxs("div",{className:J.container,ref:ge,style:we,children:[t.jsx(O,{height:xe.rootHeight,show:E||te,width:xe.rootWidth}),ke]}),t.jsx(B,{activeZoom:L,containerHeight:T,containerWidth:S,endReached:Y,hide:X||te,isDark:re,isFullScreen:q,isScrolled:X,onAction:e=>{"FULL_SCREEN"===e?z():"1X"===e||"2X"===e||"3X"===e?$(e):"GO_UP"===e?F():"GO_DOWN"===e?Z():"TOGGLE_THEME"===e&&oe()},ref:l,rootHeight:xe.rootHeight,rootWidth:xe.rootWidth,scrollPercent:U,scrollPositions:G,startReached:K}),le?t.jsx(V,{activeImageIndex:he,dimensions:{height:xe.rootHeight,width:xe.rootWidth},left:G.scrollLeft,node:ie.current,onClose:()=>{ae(!1),se("")},onNext:ye,onPrevious:be,rect:de,show:ce,top:G.scrollTop,totalImages:u.length,url:le}):null]})})})},e.Masonry=({children:e,height:r=800,width:i=1200,fillMode:l,gutter:s=4,enableAnimation:c=!0})=>{const a=n.useRef(null);!function({target:e,fillMode:t="HORIZONTAL",gutter:o=2,enableAnimation:r=!0,animationDelay:i=200}){n.useEffect((()=>{if(e&&e.current){const n=e.current,{clientWidth:l,clientHeight:s}=n,c=Array.from(n.children),a=l,d=s;let u=0,h=0,m=0,g=0,p=0,f=0;c.forEach((e=>{const n=Array.from(e.classList).filter((e=>e.includes("rc-"))),l=e.firstChild,s=K[`veil_${t.toLowerCase()}`];if(r&&(l.classList.add(s),l.addEventListener("load",(()=>{setTimeout((()=>{l.classList.remove(s),l.classList.add(K.unveil)}),i)}))),n){const[r,i]=[n.find((e=>e.includes("-w"))),n.find((e=>e.includes("-h")))].map((e=>Number(null==e?void 0:e.replace(/(rc-w-|rc-h-)/,"")))),l=r-o,s=i-o;if(!l||!s)return;let c="";"HORIZONTAL"===t?(u+l<=a?(c=`;left: ${m}px; top: ${g}px;`,u+=l+o,m=u+o):(g+=p+o,c=`;left: 0px; top: ${g}px;`,m=l+o,u=l,p=0),p=Math.max(p,s)):"VERTICAL"===t&&(h+s<=d?(c=`;top: ${g}px; left: ${m}px;`,h+=s+o,g=h+o):(m+=f+o,c=`;left: ${m}px; top: 0px;`,g=s+o,h=s,f=0),f=Math.max(f,l)),c+=`\n            width: ${l}px;\n            height: ${s}px;\n            visibility: visible;\n          `,e.style.cssText=c,c=""}}))}}),[null==e?void 0:e.current])}({enableAnimation:c,fillMode:l,gutter:s,target:a});const d=n.useMemo((()=>({height:`${r}px`,width:`${i}px`})),[r,i]),u=o(Q,s?"":ee,[]);return t.jsx("div",{className:u,ref:a,style:d,children:e})}}));
